{% load static %}<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoIntuit</title>

    <link rel="stylesheet" href="{% static 'ui/styles.css' %}">

    <script defer src="{% static 'ui/script.js' %}"></script>

    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-buttons">
            <button class="newChat-btn">
                <span class="material-icons">add</span>
            </button>
            <button class="search-btn">
                <span class="material-icons">search</span>
            </button>
            <button class="close-btn" onclick="closeSidebar()">
                <span class="material-icons">close</span>
            </button>
        </div>
        <div class="app-name1">VideoIntuit</div>
        <ul class="sidebar-menu">
            <li>History</li>
        </ul>
    </aside>

    <main class="main-container">

        <header class="header">
            <div class="app-name">VideoIntuit</div>
            <div class="header-buttons">
                <button class="share-btn" onclick="shareChat()">
                    <span class="material-icons">share</span> Share
                </button>
                <div id="signin-button">
                    <span class="material-icons">person</span>
                </div>
            </div>
        </header>

        <section class="chat-area">
            <div class="chat-messages" id="chatMessages">
                </div>
        </section>

        <section class="input-container">
            <section class="file-preview-container" id="filePreviewContainer"></section>

            <input type="file" id="fileInput" hidden multiple>
            <textarea id="messageInput" placeholder="Message VideoIntuit..."></textarea>

            <div class="input-container-buttons">
                <button class="attach-btn" id="attachBtn">+</button>
                <span id="loadingIndicator" class="loading-spinner" style="display: none;"></span>
                <button class="send-btn" id="sendBtn">â†‘</button>
            </div>
        </section>

        <script>
            function focusInput() {
                document.getElementById("messageInput").focus();
            }

            // Initial focus
            window.onload = focusInput;

            // Re-focus on keydown anywhere might be annoying, consider focusing only when clicking in the main area or input
            // document.addEventListener("keydown", function() {
            //     focusInput();
            // });

            // Better: Re-focus when clicking outside the input but inside the main container perhaps
             document.querySelector('.main-container').addEventListener('click', (event) => {
                 // Avoid refocusing if clicking on interactive elements like buttons or the input itself
                 if (event.target.tagName !== 'BUTTON' && event.target.tagName !== 'TEXTAREA' && event.target.id !== 'signin-button' && !event.target.closest('.sidebar')) {
                    focusInput();
                 }
             });

        </script>

    </main>

</body>
</html>